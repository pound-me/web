System.register(["./index-legacy-CZknlkAr.js"],(function(e,t){"use strict";var l,a,n,r,i,o,s,u,c,d,g,p,f,v,m,b,y,h,x,S,k,w,B,C,z,M,V,A,I,P,T,E,L,q,$,D,W,j,F,H,O,R;return{setters:[e=>{l=e.d,a=e.n,n=e.m,r=e.c,i=e.x,o=e.l,s=e.g,u=e.a,c=e.O,d=e.w,g=e.a8,p=e.au,f=e.aa,v=e.L,m=e.p,b=e.$,y=e.M,h=e.t,x=e.a0,S=e.av,k=e.am,w=e.aw,B=e.ag,C=e.ax,z=e.e,M=e.r,V=e.a9,A=e.o,I=e.h,P=e.y,T=e.j,E=e.i,L=e.ay,q=e.az,$=e.b,D=e.Z,W=e.aA,j=e.E,F=e.s,H=e.aB,O=e.aC,R=e.aD}],execute:function(){e("u",te);const[t,N]=r("loading"),K=Array(12).fill(null).map(((e,t)=>u("i",{class:N("line",String(t+1))},null))),Z=u("svg",{class:N("circular"),viewBox:"25 25 50 50"},[u("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),G={size:a,type:n("circular"),color:String,vertical:Boolean,textSize:a,textColor:String};var J=l({name:t,props:G,setup(e,{slots:t}){const l=i((()=>o({color:e.color},s(e.size)))),a=()=>{const a="spinner"===e.type?K:Z;return u("span",{class:N("spinner",e.type),style:l.value},[t.icon?t.icon():a])},n=()=>{var l;if(t.default)return u("span",{class:N("text"),style:{fontSize:c(e.textSize),color:null!=(l=e.textColor)?l:e.color}},[t.default()])};return()=>{const{type:t,vertical:l}=e;return u("div",{class:N([t,{vertical:l}]),"aria-live":"polite","aria-busy":!0},[a(),n()])}}});const Q=e("L",d(J)),[U,X]=r("button"),Y=o({},f,{tag:n("button"),text:String,icon:String,type:n("default"),size:n("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:n("button"),loadingSize:a,loadingText:String,loadingType:String,iconPosition:n("left")});var _=l({name:U,props:Y,emits:["click"],setup(e,{emit:t,slots:l}){const a=g(),n=()=>e.loading?l.loading?l.loading():u(Q,{size:e.loadingSize,type:e.loadingType,class:X("loading")},null):l.icon?u("div",{class:X("icon")},[l.icon()]):e.icon?u(v,{name:e.icon,class:X("icon"),classPrefix:e.iconPrefix},null):void 0,r=()=>{let t;if(t=e.loading?e.loadingText:l.default?l.default():e.text,t)return u("span",{class:X("text")},[t])},i=()=>{const{color:t,plain:l}=e;if(t){const e={color:l?t:"white"};return l||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},o=l=>{e.loading?m(l):e.disabled||(t("click",l),a())};return()=>{const{tag:t,type:l,size:a,block:s,round:c,plain:d,square:g,loading:f,disabled:v,hairline:m,nativeType:b,iconPosition:y}=e,h=[X([l,a,{plain:d,block:s,round:c,square:g,loading:f,disabled:v,hairline:m}]),{[p]:m}];return u(t,{type:b,class:h,style:i(),disabled:v,onClick:o},{default:()=>[u("div",{class:X("content")},["left"===y&&n(),r(),"right"===y&&n()])]})}}});e("B",d(_));let ee=0;function te(){const e=b(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++ee}`}const[le,ae]=r("cell"),ne={tag:n("div"),icon:String,size:String,title:a,value:a,label:a,center:Boolean,isLink:Boolean,border:h,iconPrefix:String,valueClass:y,labelClass:y,titleClass:y,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},re=o({},ne,f);var ie=l({name:le,props:re,setup(e,{slots:t}){const l=g(),a=()=>{if(t.label||x(e.label))return u("div",{class:[ae("label"),e.labelClass]},[t.label?t.label():e.label])},n=()=>{var l;if(t.title||x(e.title)){const n=null==(l=t.title)?void 0:l.call(t);if(Array.isArray(n)&&0===n.length)return;return u("div",{class:[ae("title"),e.titleClass],style:e.titleStyle},[n||u("span",null,[e.title]),a()])}},r=()=>{const l=t.value||t.default;if(l||x(e.value))return u("div",{class:[ae("value"),e.valueClass]},[l?l():u("span",null,[e.value])])},i=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection&&"right"!==e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return u(v,{name:t,class:ae("right-icon")},null)}};return()=>{var a;const{tag:o,size:s,center:c,border:d,isLink:g,required:p}=e,f=null!=(a=e.clickable)?a:g,m={center:c,required:!!p,clickable:f,borderless:!d};return s&&(m[s]=!!s),u(o,{class:ae(m),role:f?"button":void 0,tabindex:f?0:void 0,onClick:l},{default:()=>{var l;return[t.icon?t.icon():e.icon?u(v,{name:e.icon,class:ae("left-icon"),classPrefix:e.iconPrefix},null):void 0,n(),r(),i(),null==(l=t.extra)?void 0:l.call(t)]}})}}});const oe=e("C",d(ie));function se(e){return Array.isArray(e)?!e.length:0!==e&&!e}function ue(e,t){const{message:l}=t;return B(l)?l(e,t):l||""}function ce({target:e}){e.composing=!0}function de({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function ge(e){return[...e].length}function pe(e,t){return[...e].slice(0,t).join("")}const[fe,ve]=r("field"),me=e("f",{id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:a,max:Number,min:Number,formatter:Function,clearIcon:n("clear"),modelValue:$(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:n("focus"),formatTrigger:n("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String}),be=o({},ne,me,{rows:a,type:n("text"),rules:Array,autosize:[Boolean,Object],labelWidth:a,labelClass:y,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var ye=l({name:fe,props:be,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:l}){const a=te(),n=z({status:"unvalidated",focused:!1,validateMessage:""}),r=M(),o=M(),s=M(),{parent:d}=V(D),g=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},p=t=>x(e[t])?e[t]:d&&x(d.props[t])?d.props[t]:void 0,f=i((()=>{const t=p("readonly");if(e.clearable&&!t){const t=""!==g(),l="always"===e.clearTrigger||"focus"===e.clearTrigger&&n.focused;return t&&l}return!1})),b=i((()=>s.value&&l.input?s.value():e.modelValue)),y=i((()=>{var t;const l=p("required");return"auto"===l?null==(t=e.rules)?void 0:t.some((e=>e.required)):l})),h=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===n.status)return;let{value:e}=b;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(se(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return n.status="failed",void(n.validateMessage=ue(e,t));if(t.validator){if(se(e)&&!1===t.validateEmpty)return;return function(e,t){return new Promise((l=>{const a=t.validator(e,t);C(a)?a.then(l):l(a)}))}(e,t).then((l=>{l&&"string"==typeof l?(n.status="failed",n.validateMessage=l):!1===l&&(n.status="failed",n.validateMessage=ue(e,t))}))}}))),Promise.resolve()),B=()=>{n.status="unvalidated",n.validateMessage=""},$=()=>t("endValidate",{status:n.status,message:n.validateMessage}),N=(l=e.rules)=>new Promise((a=>{B(),l?(t("startValidate"),h(l).then((()=>{"failed"===n.status?(a({name:e.name,message:n.validateMessage}),$()):(n.status="passed",a(),$())}))):a()})),K=t=>{if(d&&e.rules){const{validateTrigger:l}=d.props,a=W(l).includes(t),n=e.rules.filter((e=>e.trigger?W(e.trigger).includes(t):a));n.length&&N(n)}},Z=(l,a="onChange")=>{var i,o;const s=l;l=(t=>{var l;const{maxlength:a}=e;if(x(a)&&ge(t)>+a){const e=g();if(e&&ge(e)===+a)return e;const i=null==(l=r.value)?void 0:l.selectionEnd;if(n.focused&&i){const e=[...t],l=e.length-+a;return e.splice(i-l,l),e.join("")}return pe(t,+a)}return t})(l);const u=ge(s)-ge(l);if("number"===e.type||"digit"===e.type){const t="number"===e.type;if(l=L(l,t,t),"onBlur"===a&&""!==l&&(void 0!==e.min||void 0!==e.max)){const t=q(+l,null!=(i=e.min)?i:-1/0,null!=(o=e.max)?o:1/0);+l!==t&&(l=t.toString())}}let c=0;if(e.formatter&&a===e.formatTrigger){const{formatter:t,maxlength:a}=e;if(l=t(l),x(a)&&ge(l)>+a&&(l=pe(l,+a)),r.value&&n.focused){const{selectionEnd:e}=r.value,l=pe(s,e);c=ge(t(l))-ge(l)}}if(r.value&&r.value.value!==l)if(n.focused){let{selectionStart:e,selectionEnd:t}=r.value;if(r.value.value=l,x(e)&&x(t)){const a=ge(l);u?(e-=u,t-=u):c&&(e+=c,t+=c),r.value.setSelectionRange(Math.min(e,a),Math.min(t,a))}}else r.value.value=l;l!==e.modelValue&&t("update:modelValue",l)},G=e=>{e.target.composing||Z(e.target.value)},J=()=>{var e;return null==(e=r.value)?void 0:e.blur()},Q=()=>{var e;return null==(e=r.value)?void 0:e.focus()},U=()=>{const t=r.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const l=S();e.style.height="auto";let a=e.scrollHeight;if(k(t)){const{maxHeight:e,minHeight:l}=t;void 0!==e&&(a=Math.min(a,e)),void 0!==l&&(a=Math.max(a,l))}a&&(e.style.height=`${a}px`,w(l))}(t,e.autosize)},X=e=>{n.focused=!0,t("focus",e),T(U),p("readonly")&&J()},Y=e=>{n.focused=!1,Z(g(),"onBlur"),t("blur",e),p("readonly")||(K("onBlur"),T(U),H())},_=e=>t("clickInput",e),ee=e=>t("clickLeftIcon",e),le=e=>t("clickRightIcon",e),ae=i((()=>"boolean"==typeof e.error?e.error:!(!d||!d.props.showError||"failed"!==n.status)||void 0)),ne=i((()=>{const e=p("labelWidth"),t=p("labelAlign");if(e&&"top"!==t)return{width:c(e)}})),re=l=>{13===l.keyCode&&(d&&d.props.submitOnEnter||"textarea"===e.type||m(l),"search"===e.type&&J()),t("keypress",l)},ie=()=>e.id||`${a}-input`,fe=()=>{const t=ve("control",[p("inputAlign"),{error:ae.value,custom:!!l.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(l.input)return u("div",{class:t,onClick:_},[l.input()]);const n={id:ie(),ref:r,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:p("disabled"),readonly:p("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${a}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:Y,onFocus:X,onInput:G,onClick:_,onChange:de,onKeypress:re,onCompositionend:de,onCompositionstart:ce};return"textarea"===e.type?u("textarea",F(n,{inputmode:e.inputmode}),null):u("input",F((i=e.type,o=e.inputmode,"number"===i&&(i="text",null!=o||(o="decimal")),"digit"===i&&(i="tel",null!=o||(o="numeric")),{type:i,inputmode:o}),n),null);var i,o},me=()=>{const t=l["right-icon"];if(e.rightIcon||t)return u("div",{class:ve("right-icon"),onClick:le},[t?t():u(v,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},be=()=>{if(e.showWordLimit&&e.maxlength){const t=ge(g());return u("div",{class:ve("word-limit")},[u("span",{class:ve("word-num")},[t]),j("/"),e.maxlength])}},ye=()=>{if(d&&!1===d.props.showErrorMessage)return;const t=e.errorMessage||n.validateMessage;if(t){const e=l["error-message"],a=p("errorMessageAlign");return u("div",{class:ve("error-message",a)},[e?e({message:t}):t])}},he=()=>[u("div",{class:ve("body")},[fe(),f.value&&u(v,{ref:o,name:e.clearIcon,class:ve("clear")},null),me(),l.button&&u("div",{class:ve("button")},[l.button()])]),be(),ye()];return A({blur:J,focus:Q,validate:N,formValue:b,resetValidation:B,getValidationStatus:()=>n.status}),O(R,{customValue:s,resetValidation:B,validateWithTrigger:K}),I((()=>e.modelValue),(()=>{Z(g()),B(),K("onChange"),T(U)})),P((()=>{Z(g(),e.formatTrigger),T(U)})),E("touchstart",(e=>{m(e),t("update:modelValue",""),t("clear",e)}),{target:i((()=>{var e;return null==(e=o.value)?void 0:e.$el}))}),()=>{const t=p("disabled"),n=p("labelAlign"),r=(()=>{const t=l["left-icon"];if(e.leftIcon||t)return u("div",{class:ve("left-icon"),onClick:ee},[t?t():u(v,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return u(oe,{size:e.size,class:ve({error:ae.value,disabled:t,[`label-${n}`]:n}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:ne.value,valueClass:ve("value"),titleClass:[ve("label",[n,{required:y.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:r&&"top"!==n?()=>r:null,title:()=>{const t=(()=>{const t=p("labelWidth"),n=p("labelAlign"),r=p("colon")?":":"";return l.label?[l.label(),r]:e.label?u("label",{id:`${a}-label`,for:l.input?void 0:ie(),"data-allow-mismatch":"attribute",onClick:e=>{m(e),Q()},style:"top"===n&&t?{width:c(t)}:void 0},[e.label+r]):void 0})();return"top"===n?[r,t].filter(Boolean):t||[]},value:he,extra:l.extra})}}});e("F",d(ye))}}}));
