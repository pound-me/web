System.register(["./index-legacy-CZknlkAr.js"],(function(t,e){"use strict";var r,a,s,n,c;return{setters:[t=>{r=t.K,a=t.ar,s=t.r,n=t.as,c=t.at}],execute:function(){const e={uid:0,name:"",avatar:""};t("u",a("user",(()=>{const t=s({...e});return{userInfo:t,info:async()=>{},login:async e=>{try{const{token:s}=await(a=e,r.post("/login",a));s&&(n(s),t.value={...t.value,name:e.username})}catch(s){throw c(),s}var a},logout:async()=>{try{await r.post("/user/logout")}finally{c(),a={...e},t.value={...a}}var a},getCode:async()=>{try{return await r.get("/user/email-code")}catch{}},reset:async()=>{try{return await r.post("/user/reset-password")}catch{}},register:async()=>{try{return await r.post("/user/register")}catch{}}}}),{persist:!0}))}}}));
