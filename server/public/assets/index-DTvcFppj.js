import{d as b,n as v,M as p,m as y,ak as M,c as S,h as k,y as z,al as L,a as n,s as C,q as N,V as _,L as $,a0 as j,a1 as q,l as P,am as G,an as U,r as V,ao as D,$ as F,t as R,F as A,ap as E,aq as H,w as J}from"./index-BqY3WvCA.js";import{L as K}from"./index-X6xwfEeo.js";let f=0;function Q(e){e?(f||document.body.classList.add("van-toast--unclickable"),f++):f&&(f--,f||document.body.classList.remove("van-toast--unclickable"))}const[W,c]=S("toast"),X=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Y={icon:String,show:Boolean,type:y("text"),overlay:Boolean,message:v,iconSize:v,duration:M(2e3),position:y("middle"),teleport:[String,Object],wordBreak:String,className:p,iconPrefix:String,transition:y("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:p,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:v};var Z=b({name:W,props:Y,emits:["update:show"],setup(e,{emit:t,slots:a}){let i,r=!1;const l=()=>{const o=e.show&&e.forbidClick;r!==o&&(r=o,Q(r))},d=o=>t("update:show",o),g=()=>{e.closeOnClick&&d(!1)},u=()=>clearTimeout(i),x=()=>{const{icon:o,type:s,iconSize:h,iconPrefix:I,loadingType:T}=e;if(o||s==="success"||s==="fail")return n($,{name:o||s,size:h,class:c("icon"),classPrefix:I},null);if(s==="loading")return n(K,{class:c("loading"),size:h,type:T},null)},B=()=>{const{type:o,message:s}=e;if(a.message)return n("div",{class:c("text")},[a.message()]);if(j(s)&&s!=="")return o==="html"?n("div",{key:0,class:c("text"),innerHTML:String(s)},null):n("div",{class:c("text")},[s])};return k(()=>[e.show,e.forbidClick],l),k(()=>[e.show,e.type,e.message,e.duration],()=>{u(),e.show&&e.duration>0&&(i=setTimeout(()=>{d(!1)},e.duration))}),z(l),L(l),()=>n(_,C({class:[c([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:g,onClosed:u,"onUpdate:show":d},N(e,X)),{default:()=>[x(),B()]})}});const ee={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let m=[],te=!1,w=P({},ee);const ne=new Map;function ae(e){return G(e)?e:{message:e}}function oe(){const{instance:e}=U({setup(){const t=V(""),{open:a,state:i,close:r,toggle:l}=D(),d=()=>{},g=()=>n(Z,C(i,{onClosed:d,"onUpdate:show":l}),null);return k(t,u=>{i.message=u}),F().render=g,{open:a,close:r,message:t}}});return e}function se(){if(!m.length||te){const e=oe();m.push(e)}return m[m.length-1]}function fe(e={}){if(!q)return{};const t=se(),a=ae(e);return t.open(P({},w,ne.get(a.type||w.type),a)),t}const[ie,O]=S("cell-group"),le={title:String,inset:Boolean,border:R};var re=b({name:ie,inheritAttrs:!1,props:le,setup(e,{slots:t,attrs:a}){const i=()=>{var l;return n("div",C({class:[O({inset:e.inset}),{[H]:e.border&&!e.inset}]},a,E()),[(l=t.default)==null?void 0:l.call(t)])},r=()=>n("div",{class:O("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?n(A,null,[r(),i()]):i()}});const me=J(re);export{me as C,fe as s};
